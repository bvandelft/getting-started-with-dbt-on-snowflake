semantic_models:
- name: sales_overview
  description: Sales overview model aggregating order data by truck and year.
  model: ref('sales_overview')
  defaults:
    agg_time_dimension: year
  entities:
  - name: truck
    type: foreign
    expr: truck_id
  dimensions:
  - name: primary_city
    type: categorical
  - name: year
    type: time
    type_params:
      time_granularity: year
  measures:
  - name: total_orders
    description: Total number of orders.
    agg: sum
    create_metric: true
  - name: total_sales
    description: Total sales amount.
    agg: sum
    create_metric: true
  - name: average_order_value
    description: Average value of orders.
    agg: average
    create_metric: true
  - name: count_truck
    agg: count_distinct
    create_metric: true
    expr: truck_id
  primary_entity: sales_overview
