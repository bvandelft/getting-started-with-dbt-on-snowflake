semantic_models:
- name: customer_loyalty_metrics
  description: This model aggregates customer data to provide insights into customer
    loyalty by calculating total sales and identifying unique locations visited by
    each customer.
  model: ref('customer_loyalty_metrics')
  defaults:
    agg_time_dimension: null
  entities:
  - name: customer
    type: primary
    expr: customer_id
  dimensions:
  - name: city
    description: The city where the customer resides.
    type: CATEGORICAL
  - name: country
    description: The country where the customer resides.
    type: CATEGORICAL
  - name: first_name
    description: The first name of the customer.
    type: CATEGORICAL
  - name: last_name
    description: The last name of the customer.
    type: CATEGORICAL
  - name: phone_number
    description: The contact phone number of the customer.
    type: CATEGORICAL
  - name: e_mail
    description: The email address of the customer.
    type: CATEGORICAL
  measures:
  - name: total_sales
    description: The total sales amount generated by the customer.
    agg: SUM
    create_metric: true
  - name: count_customer
    agg: count
    create_metric: true
    expr: customer_id
